# 主要需求
我現在要從`default`切換到`reddoor`但是無法順利還是會停留在 default
請幫我排除問題
 

# 附加檔案

## src/assets/styles/base/_reset.scss
```
@use "../../themes/default/_theme" as theme;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  color: theme.$primary;
  font-family: theme.$font-family;
  background-color: theme.$background-light;
  line-height: 1.5;
}

```

## src/assets/styles/base/_variables.scss
```
// src/themes/styles/base/_variables.scss

// 主題色彩系統
:root {
    // 主要顏色
    --primary-color: #FC8802;
    --down-color: #CC0D39;
    --up-color: #159E42;

    // 背景色系
    --bg-white: #FFFFFF;
    --bg-light: #F9F9F9;
    --border-disabled: #EBEBEB;

    // 文字色系
    --text-primary: #293954;
    --text-placeholder: #929AA3;
    --text-subtitle: #485771;

    // 表格相關
    --table-striped: #F7F8F9;

    // 狀態顏色
    --heading1: var(--text-primary);
    --heading2: var(--text-primary);
    --heading3: var(--text-primary);

    // 連結顏色
    --link-color: #FC8802;
    --link-hover: #FC8802;
  }

  // 文字大小
  $font-sizes: (
    'h1': 2rem,
    'h2': 1.75rem,
    'h3': 1.5rem,
    'body': 1rem,
    'small': 0.875rem,
  );

  // 間距系統
  $spacing: (
    'xs': 0.25rem,
    'sm': 0.5rem,
    'md': 1rem,
    'lg': 1.5rem,
    'xl': 2rem,
  );

  // 定義非主題相關的全局變數
$spacing-unit: 1rem;
$border-radius: 4px;

```

## src/assets/styles/main.scss
```
// src/assets/styles/main.scss
@use "base/reset" as *;
@use "base/variables" as *;

// 根據 $theme 動態選擇主題
@use "../themes/default/theme" as *;

// @use "components/header" as *;
// @use "components/footer" as *;

```

## src/assets/themes/default/_theme.scss
```
// src/assets/themes/default/_theme.scss

// 基礎顏色
$primary: #FC8802;           // 主色
$down: #CC0D39;              // Down（錯誤狀態）
$up: #159E42;                // Up（成功狀態）
$white: #FFFFFF;             // 白色
$background-light: #F9F9F9;  // 頁面底色
$table-striped: #F7F8F9;     // 表格交替背景
$border-disabled: #EBEBEB;   // 邊框/禁用狀態

// 對比顏色
$heading: #293954;           // 主標題
$body-text: #485771;         // 全站文字/次標題
$placeholder: #929AA3;       // 欄位說明/提示文字
$note: #666666;              // 備註文字

// 字體設定
$font-family: "PingFang TC", "微軟正黑體", sans-serif;

// 字體大小
$font-size-h1: 2.5rem;       // 40px
$font-size-h2: 1.5rem;       // 24px
$font-size-h3: 1.25rem;      // 20px
$font-size-body: 0.875rem;   // 14px
$font-size-note: 0.75rem;    // 12px

// CSS 變數 (供運行時切換使用)
:root {
  // 基礎顏色
  --primary: #{$primary};
  --down: #{$down};
  --up: #{$up};
  --white: #{$white};
  --background-light: #{$background-light};
  --table-striped: #{$table-striped};
  --border-disabled: #{$border-disabled};

  // 對比顏色
  --heading: #{$heading};
  --body-text: #{$body-text};
  --placeholder: #{$placeholder};
  --note: #{$note};

  // 字體
  --font-family: #{$font-family};
  --font-size-h1: #{$font-size-h1};
  --font-size-h2: #{$font-size-h2};
  --font-size-h3: #{$font-size-h3};
  --font-size-body: #{$font-size-body};
  --font-size-note: #{$font-size-note};
}

// 全局樣式
body {
  font-family: var(--font-family);
  background-color: var(--background-light);
  color: var(--body-text);
  line-height: 1.5;
}

// 標題樣式
h1 {
  font-size: var(--font-size-h1);
  color: var(--heading);
}

h2 {
  font-size: var(--font-size-h2);
  color: var(--heading);
}

h3 {
  font-size: var(--font-size-h3);
  color: var(--body-text);
}

// 內文樣式
p {
  font-size: var(--font-size-body);
}

// 提示文字
.note {
  font-size: var(--font-size-note);
  color: var(--note);
}

```

## src/assets/themes/reddoor/_theme.scss
```


// 基礎顏色
$primary: #FF3333;           // 主色：鮮艷紅色（根據 Reddoor 標誌和英雄區背景）
$down: #CC0D39;              // Down（錯誤狀態）：深紅色，與主色協調
$up: #159E42;                // Up（成功狀態）：綠色，保持通用設計
$white: #FFFFFF;             // 白色：用於文字和背景對比
$background-light: #FFFFFF;  // 頁面底色：頂部導航和部分區塊為白色
$background-dark: #1A1A1A;   // 深灰黑色背景：底部區塊和某些圖層
$table-striped: #F7F8F9;     // 表格交替背景：淺灰，保持通用設計
$border-disabled: #EBEBEB;   // 邊框/禁用狀態：淺灰，保持一致性

// 對比顏色
$heading: #FFFFFF;           // 主標題：白色（在紅色或深灰背景上）
$body-text: #B0B0B0;         // 全站文字/次標題：中灰色（用於深灰或紅色背景）
$placeholder: #707070;       // 欄位說明/提示文字：深灰色
$note: #666666;              // 備註文字：更深的灰色

// 字體設定
$font-family: "PingFang TC", "微軟正黑體", sans-serif;

// 字體大小（沿用 default 主題的規範）
$font-size-h1: 2.5rem;       // 40px
$font-size-h2: 1.5rem;       // 24px
$font-size-h3: 1.25rem;      // 20px
$font-size-body: 0.875rem;   // 14px
$font-size-note: 0.75rem;    // 12px

// 黃金比例推算輔助色（基於主色 #FF3333 與背景的對比）
$golden-accent: #E63946;     // 暖紅色，與主色協調用於強調或裝飾

// 對比色（流程圖和按鈕中使用的紫色）
$contrast: #6A0DAD;          // 紫色，作為強烈對比的輔助色

// CSS 變數 (供運行時切換使用)
:root[data-theme="reddoor"] {
  // 基礎顏色
  --primary: #{$primary};
  --down: #{$down};
  --up: #{$up};
  --white: #{$white};
  --background-light: #{$background-light};
  --background-dark: #{$background-dark};
  --table-striped: #{$table-striped};
  --border-disabled: #{$border-disabled};

  // 對比顏色
  --heading: #{$heading};
  --body-text: #{$body-text};
  --placeholder: #{$placeholder};
  --note: #{$note};
  --contrast: #{$contrast};
  --golden-accent: #{$golden-accent};

  // 字體
  --font-family: #{$font-family};
  --font-size-h1: #{$font-size-h1};
  --font-size-h2: #{$font-size-h2};
  --font-size-h3: #{$font-size-h3};
  --font-size-body: #{$font-size-body};
  --font-size-note: #{$font-size-note};
}

// 全局樣式
body {
  font-family: var(--font-family);
  background-color: var(--background-light);
  color: var(--body-text);
  line-height: 1.5;
}

// 標題樣式
h1 {
  font-size: var(--font-size-h1);
  color: var(--heading);
}

h2 {
  font-size: var(--font-size-h2);
  color: var(--heading);
}

h3 {
  font-size: var(--font-size-h3);
  color: var(--body-text);
}

// 內文樣式
p {
  font-size: var(--font-size-body);
}

// 提示文字
.note {
  font-size: var(--font-size-note);
  color: var(--note);
}

// 額外樣式：根據 Reddoor 設計加入主色和對比色的應用
.hero {
  background-color: var(--primary);
  color: var(--white);
}

.button-primary {
  background-color: var(--primary);
  color: var(--white);
  border: 1px solid var(--primary);
}

.button-contrast {
  background-color: var(--contrast);
  color: var(--white);
  border: 1px solid var(--contrast);
}

.footer {
  background-color: var(--background-dark);
  color: var(--white);
}

```

## src/views/guildline/DesignGuide.vue
```
<!-- StyleGuide.vue -->
<template>
    <div class="container">
        <h1 class="section-title">01</h1>

        <!-- 顏色部分 -->
        <section class="color-section">
            <h2>Color</h2>
            <div class="color-grid">
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--primary);"></div>
                    <div class="color-info">
                        <div class="color-name">Primary</div>
                        <div class="color-hex">#FC8802</div>
                    </div>
                </div>
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--down);"></div>
                    <div class="color-info">
                        <div class="color-name">Down</div>
                        <div class="color-hex">#CC0D39</div>
                    </div>
                </div>
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--up);"></div>
                    <div class="color-info">
                        <div class="color-name">Up</div>
                        <div class="color-hex">#159E42</div>
                    </div>
                </div>
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--white);"></div>
                    <div class="color-info">
                        <div class="color-name">白</div>
                        <div class="color-hex">#FFFFFF</div>
                    </div>
                </div>
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--background-light);"></div>
                    <div class="color-info">
                        <div class="color-name">Bg-light/頁面底色</div>
                        <div class="color-hex">#F9F9F9</div>
                    </div>
                </div>
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--table-striped);"></div>
                    <div class="color-info">
                        <div class="color-name">table-striped</div>
                        <div class="color-hex">#F7F8F9</div>
                    </div>
                </div>
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--border-disabled);"></div>
                    <div class="color-info">
                        <div class="color-name">Border/Disabled</div>
                        <div class="color-hex">#EBEBEB</div>
                    </div>
                </div>
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--placeholder);"></div>
                    <div class="color-info">
                        <div class="color-name">欄位說明 placeholder</div>
                        <div class="color-hex">#929AA3</div>
                    </div>
                </div>
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--body-text);"></div>
                    <div class="color-info">
                        <div class="color-name">全站文字/次標題</div>
                        <div class="color-hex">#485771</div>
                    </div>
                </div>
                <div class="color-item">
                    <div class="color-preview" style="background-color: var(--heading);"></div>
                    <div class="color-info">
                        <div class="color-name">主標題</div>
                        <div class="color-hex">#293954</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 類型部分 -->
        <section class="typography-section">
            <h2>Type</h2>
            <div v-for="type in typography" :key="type.name" class="type-item">
                <div class="type-name">{{ type.name }}</div>
                <component :is="type.tag" :class="type.className" v-html="type.content"></component>
            </div>
        </section>
    </div>
</template>

<script setup>
import { ref } from 'vue';

// 文字樣式資料
const typography = ref([
    {
        name: '內文',
        tag: 'p',
        className: 'body-text',
        content: '簡報段落是文章中最基本的單位，從內容上說，它具有一個獨立完整的意思。在文學寫作中，段與段之間常常只有一行間距。',
    },
    {
        name: '文字連結',
        tag: 'a',
        className: 'text-link',
        content: '文字連結',
    },
    {
        name: 'Heading1',
        tag: 'h1',
        className: 'heading-1',
        content: 'h1. Bootstrap',
    },
    {
        name: 'Heading2',
        tag: 'h2',
        className: 'heading-2',
        content: 'h2. Bootstrap',
    },
    {
        name: 'Heading3',
        tag: 'h3',
        className: 'heading-3',
        content: 'h3. Bootstrap',
    },
    {
        name: '備註',
        tag: 'p',
        className: 'note-text',
        content: '備註/提示型文字',
    },
    {
        name: '強調文字',
        tag: 'p',
        className: 'emphasis-text',
        content: '強調文字',
    },
]);
</script>

<style scoped lang="scss">
@use '@/assets/styles/main' as *;

// 容器
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    font-family: var(--font-family);
    color: var(--body-text);
    line-height: 1.5;
    background-color: var(--background-light);
}

// 章節標題
.section-title {
    font-size: var(--font-size-h1);
    color: var(--heading);
    margin-bottom: 2rem;
    font-weight: 500;
    text-align: center; // 根據圖片對齊
}

// 顏色區塊
.color-section {
    margin-bottom: 3rem;

    h2 {
        font-size: var(--font-size-h2);
        color: var(--heading);
        margin-bottom: 1.5rem;
        text-align: center; // 根據圖片對齊
    }

    .color-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        padding: 1rem; // 增加內距以匹配圖片
    }

    .color-item {
        padding: 1rem;
        border-radius: 8px;
        background-color: var(--white);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        text-align: center; // 根據圖片對齊
    }

    .color-preview {
        width: 100%;
        height: 100px;
        border-radius: 4px;
        margin-bottom: 1rem;
        border: 1px solid var(--border-disabled); // 白色預覽需要邊框
    }

    .color-info {
        font-size: var(--font-size-body);
    }

    .color-name {
        font-weight: 500;
        color: var(--body-text);
        margin-bottom: 0.5rem;
    }

    .color-hex {
        color: var(--placeholder);
        font-size: var(--font-size-note);
    }
}

// 文字樣式區塊
.typography-section {
    margin-bottom: 3rem;

    h2 {
        font-size: var(--font-size-h2);
        color: var(--heading);
        margin-bottom: 1.5rem;
        text-align: center; // 根據圖片對齊
    }

    .type-item {
        margin-bottom: 2rem;
        padding: 1rem;
        border-radius: 8px;
        background-color: var(--white);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        text-align: center; // 根據圖片對齊
    }

    .type-name {
        font-size: var(--font-size-note);
        color: var(--placeholder);
        margin-bottom: 0.5rem;
    }

    .body-text {
        font-size: var(--font-size-body);
        color: var(--body-text);
    }

    .text-link {
        font-size: var(--font-size-body);
        color: var(--primary);
        text-decoration: none;
        cursor: pointer;

        &:hover {
            text-decoration: underline;
        }
    }

    .heading-1 {
        font-size: var(--font-size-h1);
        color: var(--heading);
        margin-bottom: 1rem;
    }

    .heading-2 {
        font-size: var(--font-size-h2);
        color: var(--heading);
        margin-bottom: 0.875rem;
    }

    .heading-3 {
        font-size: var(--font-size-h3);
        color: var(--heading);
        margin-bottom: 0.75rem;
    }

    .note-text {
        font-size: var(--font-size-note);
        color: var(--placeholder);
    }

    .emphasis-text {
        font-size: var(--font-size-body);
        color: var(--primary);
        font-weight: 500;
    }
}
</style>

```

## src/App.vue
```
<template>
    <div id="app" :data-theme="currentTheme">
        <RouterView />
    </div>
</template>

<script setup>
import { RouterView } from 'vue-router';
import { ref, watch, onMounted } from 'vue';

// 定義當前主題，預設為環境變數 VITE_THEME 或 'default'
const currentTheme = ref(process.env.VITE_THEME || 'default');

// 監控主題變化，動態更新 data-theme
watch(() => currentTheme.value, (newTheme) => {
    document.documentElement.setAttribute('data-theme', newTheme);
});

// 掛載時設置主題
onMounted(() => {
    document.documentElement.setAttribute('data-theme', currentTheme.value);
});

// 可選：提供方法切換主題
const switchTheme = (theme) => {
    currentTheme.value = theme;
    document.documentElement.setAttribute('data-theme', theme);
};
</script>

<style lang="scss">
@use './assets/styles/main.scss';

#app {
    font-family: var(--font-family);
    background-color: var(--background-light);
    transition: all 0.3s ease; // 可選：添加平滑轉換效果
}
</style>

```

## src/main.ts
```
import { createApp } from 'vue';
import App from './App.vue';
import router from './router';
import './assets/styles/main.scss';

const app = createApp(App);
app.use(router);
app.mount('#app');

```

## .env
```
VITE_THEME=reddoor

```

## vite.config.ts
```
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import { fileURLToPath, URL } from 'node:url';
import path from 'path';

export default defineConfig({
    base: '/',
    plugins: [vue()],

    server: {
        port: 3000,
        open: true,
        host: true,
    },

    resolve: {
        alias: {
            '@': path.resolve(__dirname, 'src'),
        },
    },

    define: {
        'process.env.VITE_GOOGLE_SHEETS_API_KEY': JSON.stringify(process.env.VITE_GOOGLE_SHEETS_API_KEY),
    },

    build: {
        outDir: 'dist',
        assetsDir: 'assets',
        sourcemap: true,
        rollupOptions: {
            input: {
                main: fileURLToPath(new URL('./index.html', import.meta.url)),
            },
            output: {
                chunkFileNames: 'assets/js/[name]-[hash].js',
                entryFileNames: 'assets/js/[name]-[hash].js',
                assetFileNames: 'assets/[ext]/[name]-[hash].[ext]',
            },
        },
    },

    css: {
        preprocessorOptions: {
            scss: {
                // 僅注入 $theme 變數，避免與 @use 衝突
                additionalData: `
              $theme: "${process.env.VITE_THEME || 'default'}";
            `,
            },
        },
    },
});

```

## index.html
```
<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <!-- <link rel="icon" type="image/svg+xml" href="/favicon.ico" /> -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CRM - DDPay</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>

```


# 目錄架構
```
src/
├── assets/
│   ├── styles/
│   │   ├── main.scss
│   │   ├── base/
│   │   │   ├── _reset.scss
│   │   │   └── _variables.scss
│   │   └── components/
│   │       ├── _header.scss
│   │       └── _footer.scss
│   └── themes/
│       └── default/
│           └── _theme.scss
├── views/
│   └── Index.vue
├── App.vue
├── main.ts
├── router/
│   └── index.ts
└── index.html
```
